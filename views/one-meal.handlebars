
<div class="profile-details header-bg text-light p-1">
</div>

<div class="parent-one pt-5 cst-bg">

    <div class="list-group w-25 h-100vh bg-dark">
        <a href="/user/inventory" class="list-group-item list-group-item-action mb-1 cst-menu-bg">View inventory</a>
        <a href="/user/add" class="list-group-item list-group-item-action mb-1 cst-menu-bg" aria-current="true">
            Add more food to your inventory 
        </a>
        <a href="/user/create" class="list-group-item list-group-item-action mb-1 cst-menu-bg">Create New Meal</a>
        <a href="#" data-bs-toggle="modal" data-bs-target="#myModal" class="text-danger list-group-item list-group-item-action mb-1 cst-menu-bg">Delete Account</a>
        <div class="modal fade" id="myModal">
            <div class="modal-dialog center" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="text-danger">Warning!</h4>
                    </div>
                    <div class="body text-danger p-2">
                        <p>
                            You won't be able to recover your account once deleted
                        </p>
                    </div>
                    <div class="modal-footer">
                        <div class="wrap-buttons">
                            <button id="del-acct-btn" class="btn btn-danger">Delete</button>
                            <button class="btn btn-outline-dark" data-bs-dismiss="modal" data-bs-target="#myModal">Go Back</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row w-100">
       <div class="row d-flex flex-wrap w-100 m-auto mt-3">
            
            <div class="col-xxl-4 col-xl-6 col-lg-6 col-md-12 my-2">
                <div class="card shadow" style="width: 100%;">
                    <img src="{{meal.image}}" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title">{{meal.name}}</h5>
                        <p class="card-text">Contains: {{#each meal.main_courses as |mainCourse|}}<span>{{mainCourse.name}}, </span>{{/each}}
                        {{#each meal.sides as |side|}}<span>{{side.name}}, </span>{{/each}}
                        {{#each meal.desserts as |dessert|}}<span>{{dessert.name}}, </span>{{/each}}
                        {{#each meal.drinks as |drink|}}<span>{{drink.name}}, </span>{{/each}}
                        </p>
                        <div class="d-flex justify-content-between">
                            <a href="/user/meal/create/{{meal.id}}"  class="btn btn-outline-dark">Edit</a>
                            <button id="{{meal.id}}" class="delete-btn btn btn-danger">X</button>
                        </div>
                    </div>
                </div>
            </div>
        
            
            <div class="col-xxl-3 col-xl-6 col-lg-6 col-md-12 my-2 scroll-this ml-5 scroll-bg">
                <table class="my-3">
                    <tr>
                        <th>Items</th>
                        <th>Calories <small>(per serving)</small></th>
                    </tr>
                    {{#each meal.main_courses as |mainCourse|}}
                    <tr>
                        <td>{{mainCourse.name}}</td>
                        <td>{{mainCourse.calories}}</td>
                    </tr>
                    {{/each}}
                    {{#each meal.sides as |side|}}
                    <tr>
                        <td>{{side.name}}</td>
                        <td>{{side.calories}}</td>
                    </tr>
                    {{/each}}
                    {{#each meal.desserts as |dessert|}}
                    <tr>
                        <td>{{dessert.name}}</td>
                        <td>{{dessert.calories}}</td>
                    </tr>
                    {{/each}}
                    {{#each meal.drinks as |drink|}}
                    <tr>
                        <td>{{drink.name}}</td>
                        <td>{{drink.calories}}</td>
                    </tr>
                    {{/each}}
                    <tr>
                        <th>Total calories</th>
                        <td>{{totalCal}}</td> 
                    </tr>

                </table>

                <h2 class="mt-5">Customer Reviews</h2>

                <div class="review-list mb-5">
                    {{#unless meal.reviews}}
                    <p>None yet.</p>
                    {{/unless}}
                    <ul class="list-group list-group-flush">
                        {{#each meal.reviews as |review|}}
                        <li class="list-group-item my-2">{{review.rating}}/5 {{review.content}}</li>
                        {{/each}}
                    
                    </ul>
                </div>


            </div>
        </div>

        
    </div>
</div>
